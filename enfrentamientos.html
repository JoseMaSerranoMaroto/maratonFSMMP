<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Resultados de la Liguilla</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { padding: 20px; }
    .team-table th, .team-table td { text-align: center; }
  </style>
</head>
<body>

<div class="container">
  <h1 class="text-center mb-4">ðŸ“Š Diferencia de Goles por Equipo</h1>
  <table class="table table-bordered team-table">
    <thead class="table-dark">
      <tr>
        <th>Equipo</th>
        <th>Diferencia de Goles</th>
      </tr>
    </thead>
    <tbody id="tabla-diferencias"></tbody>
  </table>

  <h2 class="text-center mt-5 mb-4">âš½ Resultados de los Partidos</h2>
  <div class="row gy-3" id="partidos"></div>
</div>

<script>
  const equipos = ["Acusados", "Desmadre", "Colokon", "Eskandalo", "Majos-Sinfin", "Desfase"];
  const diferencias = {};
  equipos.forEach(e => diferencias[e] = 0);

  const partidos = [
    { hora: "19:00", local: "Acusados", visitante: "Desmadre" },
    { hora: "19:26", local: "Colokon", visitante: "Eskandalo" },
    { hora: "19:52", local: "Majos-Sinfin", visitante: "Desfase" },
    { hora: "20:18", local: "Acusados", visitante: "Colokon" },
    { hora: "20:44", local: "Desmadre", visitante: "Majos-Sinfin" },
    { hora: "21:10", local: "Eskandalo", visitante: "Desfase" },
    { hora: "21:36", local: "Acusados", visitante: "Majos-Sinfin" },
    { hora: "22:02", local: "Desmadre", visitante: "Eskandalo" },
    { hora: "22:28", local: "Colokon", visitante: "Desfase" },
    { hora: "22:54", local: "Acusados", visitante: "Eskandalo" },
    { hora: "23:20", local: "Desmadre", visitante: "Desfase" },
    { hora: "23:46", local: "Majos-Sinfin", visitante: "Colokon" },
    { hora: "00:12", local: "Acusados", visitante: "Desfase" },
    { hora: "00:38", local: "Desmadre", visitante: "Colokon" },
    { hora: "01:04", local: "Majos-Sinfin", visitante: "Eskandalo" }
  ];

  const container = document.getElementById("partidos");
  partidos.forEach((p, i) => {
    const idLocal = `score-${i}-${p.local}`;
    const idVisitante = `score-${i}-${p.visitante}`;
    const card = document.createElement("div");
    card.className = "col-md-6";
    card.innerHTML = `
      <div class="card">
        <div class="card-header">Partido ${i + 1} â€“ ${p.hora}<br><strong>${p.local}</strong> vs <strong>${p.visitante}</strong></div>
        <div class="card-body">
          <div class="input-group mb-2">
            <span class="input-group-text">${p.local}</span>
            <input type="number" class="form-control" id="${idLocal}" min="0">
            <span class="input-group-text">${p.visitante}</span>
            <input type="number" class="form-control" id="${idVisitante}" min="0">
          </div>
          <button class="btn btn-primary w-100" onclick="updateDiff('${p.local}','${p.visitante}','${idLocal}','${idVisitante}')">Actualizar</button>
        </div>
      </div>
    `;
    container.appendChild(card);
  });

  function updateDiff(equipo1, equipo2, input1Id, input2Id) {
    const g1 = parseInt(document.getElementById(input1Id).value) || 0;
    const g2 = parseInt(document.getElementById(input2Id).value) || 0;

    const prevDiff1 = parseInt(document.getElementById(input1Id).dataset.diff1) || 0;
    const prevDiff2 = parseInt(document.getElementById(input2Id).dataset.diff2) || 0;

    const newDiff1 = g1 - g2;
    const newDiff2 = g2 - g1;

    diferencias[equipo1] += newDiff1 - prevDiff1;
    diferencias[equipo2] += newDiff2 - prevDiff2;

    document.getElementById(input1Id).dataset.diff1 = newDiff1;
    document.getElementById(input2Id).dataset.diff2 = newDiff2;

    renderTabla();
  }

  function renderTabla() {
    const tabla = document.getElementById("tabla-diferencias");
    tabla.innerHTML = "";
    equipos.forEach(e => {
      tabla.innerHTML += `<tr><td>${e}</td><td>${diferencias[e]}</td></tr>`;
    });
  }

  renderTabla();
</script>

</body>
</html>
